$block: '.hex-grid';

#{$block} {
  &-container{
    &:after {
      content: "";
      display: block;
      clear: both;
    }
  }

  &-item  {
    list-style-type: none;
    position: relative;
    float: left;
    width: calc(100% / (var(--amount) + 0.5));
    padding-bottom: calc(1.1579 * 100% / (var(--amount) + 0.5));
    transform: rotate(-60deg) skewY(30deg);
    overflow:hidden;
    visibility:hidden;
    margin:-0.02%;
  }
  &-item * {
    visibility:visible;
  }

  &-content {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    transform: skewY(-30deg) rotate(60deg);
    background-image:url("../img/board.jpg");
    background-size:1040%;
  }
}

@mixin grid-item($amount) {
  @for $i from 1 through $amount {
    &:nth-of-type(#{2*$amount}n + #{$amount + $i}) {
      margin-top: calc(-0.29 * 100% / (var(--amount) + 0.5));
      margin-bottom: calc(-0.29 * 100% / (var(--amount) + 0.5));
      transform: translateX(50%) rotate(-60deg) skewY(30deg);
    }
  }

  @for $j from 1 through $amount {
    @for $i from 1 through $amount {
      &:nth-of-type(#{$amount*($j - 1) + $i}) #{$block}-content {
        @if $j % 2 == 0 {
          background-position:#{10.57%*($i - 1) + 5.3%} #{2*12.7% + 1.226%*($j - 1)};
        }
        @else {
          background-position:#{10.57%*($i - 1)} #{2*12.7% + 1.226%*($j - 1)};
        }
      }
    }
  }
}



#{$block} {
	&-container {
    --amount: 10;
	}

	&-item {
		@include grid-item(10);
	}
}
